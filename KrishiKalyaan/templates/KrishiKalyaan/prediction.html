{% load static %}

<!DOCTYPE html>
<html>

<head>
	<title>Krishi Kalyaan Portal</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script
		type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
	<meta name="keywords"
		content="Bootstrap Responsive Templates, Iphone Compatible Templates, Smartphone Compatible Templates, Ipad Compatible Templates, Flat Responsive Templates" />

	<script src="{% static 'KrishiKalyaan/js/jquery-1.11.0.min.js' %}"></script>
	<link href="{% static 'KrishiKalyaan/css/bootstrap.css' %}" rel='stylesheet' type='text/css' />
	<link href="{% static 'KrishiKalyaan/css/style.css' %}" rel='stylesheet' type='text/css' />
	<link href='http://fonts.googleapis.com/css?family=Arimo:400,700,400italic,700italic' rel='stylesheet'
		type='text/css'>


	<style>
		/* Add your CSS styles here */
		.selected {
			border-bottom: 2px solid white;

		}

		.slected-img{
			height: 240px ;
			
		}


		
	</style>


</head>

<body>
	<!--start-header-->

	<div id="google_translate_element"></div>
	<script type="text/javascript">
		function googleTranslateElementInit() {
			new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element');
		}
	</script>
	<script type="text/javascript">
		(function () {
			var gtConstEvalStartTime = new Date();/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
			var h = this || self, l = /^[\w+/_-]+[=]{0,2}$/, m = null; function n(a) { return (a = a.querySelector && a.querySelector("script[nonce]")) && (a = a.nonce || a.getAttribute("nonce")) && l.test(a) ? a : "" } function p(a, b) { function c() { } c.prototype = b.prototype; a.i = b.prototype; a.prototype = new c; a.prototype.constructor = a; a.h = function (g, f, k) { for (var e = Array(arguments.length - 2), d = 2; d < arguments.length; d++)e[d - 2] = arguments[d]; return b.prototype[f].apply(g, e) } } function q(a) { return a }; function r(a) { if (Error.captureStackTrace) Error.captureStackTrace(this, r); else { var b = Error().stack; b && (this.stack = b) } a && (this.message = String(a)) } p(r, Error); r.prototype.name = "CustomError"; function u(a, b) { a = a.split("%s"); for (var c = "", g = a.length - 1, f = 0; f < g; f++)c += a[f] + (f < b.length ? b[f] : "%s"); r.call(this, c + a[g]) } p(u, r); u.prototype.name = "AssertionError"; function v(a, b) { throw new u("Failure" + (a ? ": " + a : ""), Array.prototype.slice.call(arguments, 1)); }; var w; function x(a, b) { this.g = b === y ? a : "" } x.prototype.toString = function () { return this.g + "" }; var y = {}; function z(a) { var b = document.getElementsByTagName("head")[0]; b || (b = document.body.parentNode.appendChild(document.createElement("head"))); b.appendChild(a) }
			function _loadJs(a) {
				var b = document; var c = "SCRIPT"; "application/xhtml+xml" === b.contentType && (c = c.toLowerCase()); c = b.createElement(c); c.type = "text/javascript"; c.charset = "UTF-8"; if (void 0 === w) { b = null; var g = h.trustedTypes; if (g && g.createPolicy) { try { b = g.createPolicy("goog#html", { createHTML: q, createScript: q, createScriptURL: q }) } catch (t) { h.console && h.console.error(t.message) } w = b } else w = b } a = (b = w) ? b.createScriptURL(a) : a; a = new x(a, y); a: {
					try {
						var f = c && c.ownerDocument, k = f && (f.defaultView || f.parentWindow); k = k || h;
						if (k.Element && k.Location) { var e = k; break a }
					} catch (t) { } e = null
				} if (e && "undefined" != typeof e.HTMLScriptElement && (!c || !(c instanceof e.HTMLScriptElement) && (c instanceof e.Location || c instanceof e.Element))) {
					e = typeof c; if ("object" == e && null != c || "function" == e) try { var d = c.constructor.displayName || c.constructor.name || Object.prototype.toString.call(c) } catch (t) { d = "<object could not be stringified>" } else d = void 0 === c ? "undefined" : null === c ? "null" : typeof c; v("Argument is not a %s (or a non-Element, non-Location mock); got: %s",
						"HTMLScriptElement", d)
				} a instanceof x && a.constructor === x ? d = a.g : (d = typeof a, v("expected object of type TrustedResourceUrl, got '" + a + "' of type " + ("object" != d ? d : a ? Array.isArray(a) ? "array" : d : "null")), d = "type_error:TrustedResourceUrl"); c.src = d; (d = c.ownerDocument && c.ownerDocument.defaultView) && d != h ? d = n(d.document) : (null === m && (m = n(h.document)), d = m); d && c.setAttribute("nonce", d); z(c)
			}
			function _loadCss(a) { var b = document.createElement("link"); b.type = "text/css"; b.rel = "stylesheet"; b.charset = "UTF-8"; b.href = a; z(b) } function _isNS(a) { a = a.split("."); for (var b = window, c = 0; c < a.length; ++c)if (!(b = b[a[c]])) return !1; return !0 } function _setupNS(a) { a = a.split("."); for (var b = window, c = 0; c < a.length; ++c)b.hasOwnProperty ? b.hasOwnProperty(a[c]) ? b = b[a[c]] : b = b[a[c]] = {} : b = b[a[c]] || (b[a[c]] = {}); return b }
			window.addEventListener && "undefined" == typeof document.readyState && window.addEventListener("DOMContentLoaded", function () { document.readyState = "complete" }, !1);
			if (_isNS('google.translate.Element')) { return } (function () { var c = _setupNS('google.translate._const'); c._cest = gtConstEvalStartTime; gtConstEvalStartTime = undefined; c._cl = 'en'; c._cuc = 'googleTranslateElementInit'; c._cac = ''; c._cam = ''; c._ctkk = '448961.2418888573'; var h = 'translate.googleapis.com'; var s = (true ? 'https' : window.location.protocol == 'https:' ? 'https' : 'http') + '://'; var b = s + h; c._pah = h; c._pas = s; c._pbi = b + '/translate_static/img/te_bk.gif'; c._pci = b + '/translate_static/img/te_ctrl3.gif'; c._pli = b + '/translate_static/img/loading.gif'; c._plla = h + '/translate_a/l'; c._pmi = b + '/translate_static/img/mini_google.png'; c._ps = b + '/translate_static/css/translateelement.css'; c._puh = 'translate.google.com'; _loadCss(c._ps); _loadJs(b + '/translate_static/js/element/main.js'); })();
		})();
	</script>



	<div id="home" class="header">
		<div class="top-header">
			<div class="container">
				<div class="logo">
					<h1><b>Krishi Kalyaan Portal</b></h1>
				</div>
				<!--start-top-nav-->
				<div class="top-nav">
					<ul>
						<!-- <li class="active"><a class="play-icon popup-with-zoom-anim" href="#small-dialog"><span> </span>Log in</a></li>
									<li><a class="play-icon popup-with-zoom-anim" href="#small-dialog1">Sign up</a></li> -->
					</ul>
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
		<!---pop-up-box---->

		<script type="text/javascript" src="{% static 'KrishiKalyaan/js/modernizr.custom.min.js' %}"></script>

		<link href="{% static 'KrishiKalyaan/css/popup-box.css' %}" rel="stylesheet" type="text/css" media="all" />

		<script src="{% static 'KrishiKalyaan/js/jquery.magnific-popup.js' %}" type="text/javascript"></script>
		<!---//pop-up-box---->

		<!-- <div id="small-dialog" class="mfp-hide">
						<form>
						<div class="login">
							<h3>Log In</h3>
							<h4>Already a Member</h4>
							<input type="text" value="Phone" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Phone';}" />
							<input type="password" value="Password" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Password';}"/>
							<input type="submit" value="Login" />
						</div>
						</form>
					</div>
					<div id="small-dialog1" class="mfp-hide">
						<form>
						<div class="signup">
							<h3>Sign Up</h3>
							<h4>Enter Your Details Here</h4>
							<input type="text" value="First Name" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'First Name';}" />
							<input type="text" value="Last Name" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Last Name';}" />
							<input type="text" class="email"value="Phone No" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Phone No';}"  />
							<input type="password" value="Password" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Password';}"/>
							<input type="submit"  value="SignUp"/>
						</div>
					</form>
					</div>
				 <script>
						$(document).ready(function() {
						$('.popup-with-zoom-anim').magnificPopup({
							type: 'inline',
							fixedContentPos: false,
							fixedBgPos: true,
							overflowY: 'auto',
							closeBtnInside: true,
							preloader: false,
							midClick: true,
							removalDelay: 300,
							mainClass: 'my-mfp-zoom-in'
						});

						});
				</script> -->
		<!--End-header-->
		<div class="navgation">
			<div class="menu">

				<a class="toggleMenu" href="#"><img src=" {% static 'KrishiKalyaan/images/menu-icon.png' %}" alt="" />
				</a>



				<ul class="nav" id="nav">


					<li><a href="/">Home</a></li>
					<li><a href="/about/">About Us</a></li>
					<li><a href="/predict/">Prediction</a></li>
					<li><a href="/schemes/">Schemes</a></li>
					<li><a href="/latestnews/">Latest News</a></li>
					<li><a href="/organic_farming/">Organic Farming</a></li>

					<li><a href='{% static "KrishiKalyaan/notebook/crop_recommendation_EDA.html" %}'
							target="_blank">Notebook</a></li>

					<li><a href="/contact/">Contact</a></li>

				</ul>
				<!----start-top-nav-script---->

				<script type="text/javascript" src="{% static 'KrishiKalyaan/js/responsive-nav.js' %}"></script>



				<script type="text/javascript">
					jQuery(document).ready(function ($) {
						$(".scroll").click(function (event) {
							event.preventDefault();
							$('html,body').animate({ scrollTop: $(this.hash).offset().top }, 1000);
						});
					});
				</script>
				<!----//End-top-nav-script---->
			</div>
			<div class="clearfix"> </div>
		</div>
	</div>
	<br><br><br>
	<div class="container my-5 mt-5 bg-light">
		<h1>Crop Recommendation <span class="text-success">ðŸŒ±</span></h1>

		<form method="POST" action="/predict/" class="mt-5">
			{% csrf_token %}
			<div class="row">
				<div class="col-md-4">
					<label for="Nitrogen">Nitrogen</label>
					<input type="number" id="Nitrogen" name="Nitrogen" placeholder="Enter Nitrogen" class="form-control"
						required>
				</div>
				<div class="col-md-4">
					<label for="Phosporus">Phosphorus</label>
					<input type="number" id="Phosporus" name="Phosporus" placeholder="Enter Phosphorus"
						class="form-control" required>
				</div>
				<div class="col-md-4">
					<label for="Potassium">Potassium</label>
					<input type="number" id="Potassium" name="Potassium" placeholder="Enter Potassium"
						class="form-control" required>
				</div>
			</div>

			<div class="row mt-4">
				<div class="col-md-4">
					<label for="Temperature">Temperature</label>
					<input type="number" step="0.01" id="Temperature" name="Temperature"
						placeholder="Enter Temperature in Â°C" class="form-control" required>
				</div>
				<div class="col-md-4">
					<label for="Humidity">Humidity</label>
					<input type="number" step="0.01" id="Humidity" name="Humidity" placeholder="Enter Humidity in %"
						class="form-control" required>
				</div>
				<div class="col-md-4">
					<label for="pH">pH</label>
					<input type="number" step="0.01" id="pH" name="pH" placeholder="Enter pH value" class="form-control"
						required>
				</div>
			</div>

			<div class="row mt-4">
				<div class="col-md-4">
					<label for="Rainfall">Rainfall</label>
					<input type="number" step="0.01" id="Rainfall" name="Rainfall" placeholder="Enter Rainfall in mm"
						class="form-control" required>
				</div>
			</div>

			<div class="row mt-4">

				<div class="col-md-12 text-center">
					<button type="submit" class="btn btn-primary btn-lg">Get Recommendation</button>
				</div>
			</div>
		</form>

		{% if crop %}
		<div  class="card bg-dark" style="width: 18rem;">
			
			{% if crop == "Rice" %}
			<img src="{% static 'KrishiKalyaan/images/rice.jpg' %}" class="card-img-top slected-img" alt="Rice" >
			{% elif crop == "Maize" %}
			<img src="{% static 'KrishiKalyaan/images/maize.jpg' %}" class="card-img-top slected-img" alt="Maize" >
			{% elif crop == "Jute" %}
			<img src="{% static 'KrishiKalyaan/images/jute.jpg' %}" class="card-img-top slected-img" alt="Jute" >
			{% elif crop == "Cotton" %}
			<img src="{% static 'KrishiKalyaan/images/cotton.jpg' %}" class="card-img-top slected-img" alt="Cotton" >
			{% elif crop == "Coconut" %}
			<img src="{% static 'KrishiKalyaan/images/coconut.jpg' %}" class="card-img-top slected-img" alt="Coconut" >
			{% elif crop == "Papaya" %}
			<img src="{% static 'KrishiKalyaan/images/papaya.jpg' %}" class="card-img-top slected-img" alt="Papaya" >
			{% elif crop == "Orange" %}
			<img src="{% static 'KrishiKalyaan/images/orange.jpg' %}" class="card-img-top slected-img" alt="Orange" >
			{% elif crop == "Apple" %}
			<img src="{% static 'KrishiKalyaan/images/apple.jpg' %}" class="card-img-top slected-img" alt="Apple" >
			{% elif crop == "Muskmelon" %}
			<img src="{% static 'KrishiKalyaan/images/muskmelon.jpg' %}" class="card-img-top slected-img" alt="Muskmelon" >
			{% elif crop == "Watermelon" %}
			<img src="{% static 'KrishiKalyaan/images/watermelon.jpg' %}" class="card-img-top slected-img" alt="Watermelon" >
			{% elif crop == "Grapes" %}
			<img src="{% static 'KrishiKalyaan/images/grapes.jpg' %}" class="card-img-top slected-img" alt="Grapes" >
			{% elif crop == "Mango" %}
			<img src="{% static 'KrishiKalyaan/images/mango.jpg' %}" class="card-img-top slected-img" alt="Mango" >
			{% elif crop == "Banana" %}
			<img src="{% static 'KrishiKalyaan/images/banana.jpg' %}" class="card-img-top slected-img" alt="Banana" >
			{% elif crop == "Pomegranate" %}
			<img src="{% static 'KrishiKalyaan/images/pomegranate.jpg' %}" class="card-img-top slected-img" alt="Pomegranate" >
			{% elif crop == "Lentil" %}
			<img src="{% static 'KrishiKalyaan/images/lentil.jpg' %}" class="card-img-top slected-img" alt="Lentil" >
			{% elif crop == "Blackgram" %}
			<img src="{% static 'KrishiKalyaan/images/blackgram.jpg' %}" class="card-img-top slected-img" alt="Blackgram" >
			{% elif crop == "Mungbean" %}
			<img src="{% static 'KrishiKalyaan/images/mungbean.jpg' %}" class="card-img-top slected-img" alt="Mungbean" >
			{% elif crop == "Mothbeans" %}
			<img src="{% static 'KrishiKalyaan/images/mothbeans.jpg' %}" class="card-img-top slected-img" alt="Mothbeans" >
			{% elif crop == "Pigeonpeas" %}
			<img src="{% static 'KrishiKalyaan/images/pigeonpeas.jpg' %}" class="card-img-top slected-img" alt="Pigeonpeas" >
			{% elif crop == "Kidneybeans" %}
			<img src="{% static 'KrishiKalyaan/images/kidneybeans.jpg' %}" class="card-img-top slected-img" alt="Kidneybeans" >
			{% elif crop == "Chickpea" %}
			<img src="{% static 'KrishiKalyaan/images/chickpea.jpg' %}" class="card-img-top slected-img" alt="Chickpea" >
			{% elif crop == "Coffee" %}
			<img src="{% static 'KrishiKalyaan/images/coffee.jpg' %}" class="card-img-top slected-img" alt="Coffee" >
			{% else %}
			<img src="{% static 'KrishiKalyaan/images/millet.jpg' %}" class="card-img-top slected-img " alt="Default" >
			{% endif %}
		
			<!-- <img src="{% static 'KrishiKalyaan/images/millet.jpg'%}" class="card-img-top" alt="..."> -->
			<div class="card-body">
				<h5 class="card-title">Recommend Crop</h5>
				<p class="card-text">{{ prediction }}</p>
				<h6><a href="/predict/" class="btn btn-primary">Want to predict again</a></h6>
			</div>
		</div>
		{% endif %}
	</div>
	<!-- <div class="predict">
			<h2 style="text-align: center;"><b>LIVE CROP RECOMMENDATION SYSTEM</b></h2>
	    	<div class="data">

		        <form id='formm' method="post" class="main-form">
                <div class="container">
                {% csrf_token %}
					<div class="contact-text">
			        	<h3><b>Recommendation Data:</b></h3>

		                <input type="text" name="name" id="fcityname" value="City Name" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'City Name';}" required/>


		                <input type="text" name="soil" id="fph" value="Soil PH Value" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Soil PH Value';}" required/>
		            </div>
		            <div class="contact-text">

		                <input type="text" name="N" id="fnvalue" value="Nitrogen Value" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Nitrogen Value';}" required/>


		                <input type="text" name="P" id="fphosvalue" value="Phosphorous Value" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Phosphorous Value';}" required/>

		                <input type="text" name="K" id="fpotvalue" value="Potassium Value" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Potassium Value';}" required/>
		            </div>
					<div class="contact-but">
						<input type="submit" id="submitt" value="Submit data" class="btn">
					</div>

		            <div submit-success>
		                <template type="amp-mustache">
		                    <p class="form-submit-response">
		                        Data submitted!
		                    </p>
		                </template>
		            </div>
		            <div submit-error>
		                <template type="amp-mustache">
		                    <p class="form-submit-response">
		                        Oops! Sorry, there was an error.
		                    </p>
		                </template>
		            </div>
                    </div>
		        </form>

		    </div><br>
		    <div class="container">
		    	<h3><b>Recommendation Results:</b></h3>
		    	<div class="contact-textarea">
					<textarea value="result" id="resultt" style="height:20px ;width: 400px; font-size: 2em;" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Recommendation Output';}"></textarea>
				</div>
		    </div>
            

		</div> -->
	<br>
	<div class="footer">
		<div class="container">
			<div class="footer-text">
				<p>Krishi Kalyaan Portal</p>
			</div>
		</div>
		<a href="#home" id="toTop" class="scroll" style="display: block;"> <span id="toTopHover" style="opacity: 1;">
			</span></a>
	</div>

	<!-- <script>
    //var string1 = "";
    //var list2 = [];
    {var list1=[document.getElementById('fph')]}
    const form = document.getElementById('formm');
    form.addEventListener("submit", submitHandler);

    var cars = [["Saab", "Volvo"], ["BMW", "kdj"]];


    function submitHandler(e) {
        console.log("executed")
        var list1=[document.getElementById('fcityname').value,document.getElementById('fph').value,document.getElementById('fnvalue').value,document.getElementById('fphosvalue').value,document.getElementById('fpotvalue').value]
        e.preventDefault();
        $.ajax({
            type: 'POST', // define the type of HTTP verb we want to use (POST for our form)
             url: '{% url "calculate" %}', // the url where we want to POST
            'data': {
                'content': JSON.stringify(list1),
                'csrfmiddlewaretoken': '{{ csrf_token }}'
            },
            dataType: 'json', // what type of data do we expect back from the server

            success: (message) => {
                console.log(message);
                document.getElementById('resultt').value=JSON.stringify(message.content)
                {document.getElementById('textview').value += "The distance is : " + JSON.stringify(message.cost) + " km";}
                {document.getElementById('textview').value += "\nAverage Fuel cost : Rs. " + JSON.stringify(message.cost2);}
                {document.getElementById('textview').value += "\nThe path is : \n" + JSON.stringify(message.path);}
                {const obj = JSON.stringify(message.final);}
                {list2 = JSON.parse(obj);}
            }


        });
    }
</script> -->

	<script>
		// JavaScript code for adding the selected class to the clicked item
		document.addEventListener('DOMContentLoaded', function () {
			var navItems = document.querySelectorAll('.nav li');

			for (var i = 0; i < navItems.length; i++) {
				var link = navItems[i].querySelector('a');
				if (link.href === window.location.href) {
					navItems[i].classList.add('selected');
					break;
				}
			}
		});
	</script>

</body>

</html>